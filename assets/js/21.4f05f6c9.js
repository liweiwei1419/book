(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{385:function(e,t,_){"use strict";_.r(t);var v=_(26),r=Object(v.a)({},(function(){var e=this,t=e.$createElement,_=e._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[_("h1",{attrs:{id:"_6-一些细节-以问答形式呈现"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_6-一些细节-以问答形式呈现"}},[e._v("#")]),e._v(" 6. 一些细节（以问答形式呈现）")]),e._v(" "),_("h4",{attrs:{id:"细节一-为什么有些时候取-mid-的时候需要上取整"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#细节一-为什么有些时候取-mid-的时候需要上取整"}},[e._v("#")]),e._v(" 细节一：为什么有些时候取 "),_("code",[e._v("mid")]),e._v(" 的时候需要上取整？")]),e._v(" "),_("p",[_("strong",[e._v("回答")]),e._v("：是否需要上取整，只和区间划分的逻辑有关。如果不调整，会出现死循环。")]),e._v(" "),_("p",[_("img",{attrs:{src:"https://pic.leetcode-cn.com/1617778514-OzKyCg-image.png",alt:"image.png"}})]),e._v(" "),_("p",[e._v("初次接触的时候，很多朋友觉得这件事情非常难以理解，我们的建议是："),_("strong",[e._v("一旦遇到死循环，可以在程序中输出 "),_("code",[e._v("left")]),e._v("、"),_("code",[e._v("right")]),e._v(" 和 "),_("code",[e._v("mid")]),e._v(" 的值看一下就很清楚了")]),e._v("。「力扣」第 69 题："),_("a",{attrs:{href:"https://leetcode-cn.com/problems/sqrtx/",target:"_blank",rel:"noopener noreferrer"}},[e._v("x 的平方根"),_("OutboundLink")],1),e._v(" 的 "),_("a",{attrs:{href:"https://leetcode-cn.com/problems/sqrtx/solution/er-fen-cha-zhao-niu-dun-fa-python-dai-ma-by-liweiw/",target:"_blank",rel:"noopener noreferrer"}},[e._v("题解"),_("OutboundLink")],1),e._v(" ，我们演示了如何打印变量、观察到死循环。")]),e._v(" "),_("p",[_("strong",[e._v("结论")]),e._v("：当区间只剩下两个元素的时候，"),_("code",[e._v("left = mid")]),e._v(" 和 "),_("code",[e._v("right = mid - 1")]),e._v(" 这种划分方式，如果 "),_("code",[e._v("mid")]),e._v(" 使用默认下取整的方式，在数值上 "),_("code",[e._v("left = mid")]),e._v("，而它对应的其中一个区间是 "),_("code",[e._v("[mid..right]")]),e._v("，在这种情况下，下一轮搜索区间还是 "),_("code",[e._v("[left..right]")]),e._v("，搜索区间没有减少，会进入死循环。")]),e._v(" "),_("p",[_("strong",[e._v("提示")]),e._v("：「"),_("strong",[e._v("看到边界设置的代码是 "),_("code",[e._v("left = mid")]),e._v(" 时，需要把 "),_("code",[e._v("mid")]),e._v(" 的取法调整为上取整，以避免死循环")]),e._v("」，这件事情也完全不用记忆，题目做得多了，自然而然就记住了。还是我们在题解中和大家多次强调的一件事情："),_("strong",[e._v("遇到代码出错的时候，一定要耐心调试，把变量打印出来看一下，是最好的学习的方法")]),e._v("。")]),e._v(" "),_("h4",{attrs:{id:"细节二-有些学习资料上说-while-left-right-表示区间是-left-rihgt-为什么你这里是-left-rihgt"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#细节二-有些学习资料上说-while-left-right-表示区间是-left-rihgt-为什么你这里是-left-rihgt"}},[e._v("#")]),e._v(" 细节二：有些学习资料上说 "),_("code",[e._v("while (left < right)")]),e._v(" 表示区间是 "),_("code",[e._v("[left..rihgt)")]),e._v(" ，为什么你这里是 "),_("code",[e._v("[left..rihgt]")]),e._v("？")]),e._v(" "),_("p",[_("strong",[e._v("回答")]),e._v("：区间的右端点到底是开还是闭，完全由编写代码的人决定，不需要固定。只要编码的人逻辑前后一致，并且保持不变（这件事情叫遵守「循环不变量」），就是正确的。")]),e._v(" "),_("p",[e._v("我们通篇讲的都是 "),_("strong",[e._v("左闭右闭")]),e._v(" 区间，理由是这样定义更直接。")]),e._v(" "),_("h4",{attrs:{id:"细节三-有些学习资料给出了三种模板-例如「力扣」推出的-leetbook-之-「二分查找专题」-应该如何看待它们"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#细节三-有些学习资料给出了三种模板-例如「力扣」推出的-leetbook-之-「二分查找专题」-应该如何看待它们"}},[e._v("#")]),e._v(" 细节三：有些学习资料给出了三种模板，例如「力扣」推出的 LeetBook 之 「"),_("a",{attrs:{href:"https://leetcode-cn.com/leetbook/detail/binary-search/",target:"_blank",rel:"noopener noreferrer"}},[e._v("二分查找专题"),_("OutboundLink")],1),e._v("」，应该如何看待它们？")]),e._v(" "),_("p",[_("strong",[e._v("回答")]),e._v("：我在学习的时候，LeetBook 也是我重要的学习材料之一。三种模板其实区别仅在于退出循环的时候，区间 "),_("code",[e._v("[left..right]")]),e._v(" 里有几个数。")]),e._v(" "),_("ul",[_("li",[_("code",[e._v("while (left <= right)")]),e._v(" ：退出循环的时候，"),_("code",[e._v("right")]),e._v(" 在左，"),_("code",[e._v("left")]),e._v(" 在右，区间为空区间，所以要讨论返回 "),_("code",[e._v("left")]),e._v(" 和 "),_("code",[e._v("right")]),e._v("；")]),e._v(" "),_("li",[_("code",[e._v("while (left < right)")]),e._v(" ：退出循环的时候，"),_("code",[e._v("left")]),e._v(" 与 "),_("code",[e._v("right")]),e._v(" 重合，区间里只有一个元素，这一点是我们很喜欢的；")]),e._v(" "),_("li",[_("code",[e._v("while (left + 1< right)")]),e._v(" ：退出循环的时候，"),_("code",[e._v("left")]),e._v(" 在左，"),_("code",[e._v("right")]),e._v(" 在右，区间里有 2 个元素，需要编写专门的逻辑。这种写法在设置 "),_("code",[e._v("left")]),e._v(" 和 "),_("code",[e._v("right")]),e._v(" 的时候不需要加 1 和减 1。看似简化了思考的难度，但实际上屏蔽了我们应该且完全可以分析清楚的细节。退出循环以后一定需要编写专门的逻辑，讨论返回哪一个，也增加了编码的难度。")])]),e._v(" "),_("p",[e._v("我个人的经验是：完全不用第三个，理由是不会使得问题变得更简单，反而很累赘。")]),e._v(" "),_("p",[e._v("我常用头两个，第一个在简单问题中用，第二个在复杂问题中用。在题解的第 5 部分「5. 两种写法对比」的「重要经验」里也叙述了用它们的理由和场景。")])])}),[],!1,null,null,null);t.default=r.exports}}]);